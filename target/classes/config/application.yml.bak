####################################################################################################
#                                                                                                  #
#           本配置文件中写通用配置，请勿修改本文件，特定于环境的配置，请作为参数写在Profile中。               #
#           本配置文件中写通用配置，请勿修改本文件，特定于环境的配置，请作为参数写在Profile中。               #
#           本配置文件中写通用配置，请勿修改本文件，特定于环境的配置，请作为参数写在Profile中。               #
#                                                                                                  #
####################################################################################################

#服务端口
server:
  port: 8080


#服务端接口前缀
api:
  root:
    path: api/v1

##日志级别
logging:
  #日志保存路径
  path: log
  level:
    root: info
    org.springframework: info

spring:
  #404错误抛出异常
  mvc:
    static-path-pattern: /static/**
  #  throw-exception-if-no-handler-found: true
  #启动banner
  banner:
    location: classpath:config/banner.txt
  #默认配置文件
  profiles:
    active: dev
  servlet:
    multipart:
      #文件上传大小设置
      enabled: true
      max-file-size: 1024MB
      max-request-size: 1024MB
  #热部署
  devtools:
    restart:
      enabled: true
  #排除DruidDataSourceAutoConfigure类
  autoconfigure:
    exclude: com.alibaba.druid.spring.boot.autoconfigure.DruidDataSourceAutoConfigure
  #数据源
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      stat-view-servlet:
        loginUsername: admin
        loginPassword: Ppnn13y
      initial-size: 3
      max-active: 8
      min-idle: 1
      max-wait: 6000
      min-evictable-idle-time-millis: 30000
      max-evictable-idle-time-millis: 30000
      time-between-eviction-runs-millis: 60000
      validation-query: select 1
      validation-query-timeout: -1
      test-on-borrow: false
      test-on-return: false
      test-while-idle: true
      pool-prepared-statements: true
      filters: stat,wall
    dynamic:
      #默认数据库
      primary: master
      #格式化SQL语句（true：开启[有性能损失]，false：关闭）
      p6spy: ${jdbc.p6spy}
      datasource:
        master:
          driver-class-name: com.mysql.cj.jdbc.Driver
          url: jdbc:mysql://${jdbc.master.host}:${jdbc.master.port}/${jdbc.master.db}?useSSL=false&useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
          username: ${jdbc.master.user}
          password: ${jdbc.master.passwd}

  #定时任务
#  quartz:
#    properties:
#      org:
#        quartz:
#          scheduler:
#            #调度器实例名称
#            instanceName: clusteredScheduler
#            #调度器实例编号自动生成
#            instanceId: AUTO
#          jobStore:
#            #持久化方式配置
#            class: org.quartz.impl.jdbcjobstore.JobStoreTX
#            ##持久化方式配置数据驱动，MySQL数据库
#            driverDelegateClass: org.quartz.impl.jdbcjobstore.StdJDBCDelegate
#            #quartz相关数据表前缀名
#            tablePrefix: QRTZ_
#            #开启分布式部署
#            isClustered: false
#            #分布式节点有效性检查时间间隔，单位：毫秒
#            clusterCheckinInterval: 10000
#            #配置是否使用
#            useProperties: false
#          threadPool:
#            #线程池实现类
#            class: org.quartz.simpl.SimpleThreadPool
#            #执行最大并发线程数量
#            threadCount: 10
#            #线程优先级
#            threadPriority: 5
#            #配置是否启动自动加载数据库内的定时任务，默认true
#            threadsInheritContextClassLoaderOfInitializingThread: true
#    #采用数据库存储方式
#    job-store-type: jdbc

  #thymeleaf模板配置
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    model: HTML
    encoding: UTF-8
    cache: false

  #静态资源文件
  resources:
    #static-locations: classpath:/static/
    chain:
      cache: false
    # 禁用静态资源的自动映射，如不禁用，不存在的url将被映射到/**，servlet不有机会抛出异常
    #add-mappings: false

#Mybatis Plus
mybatis-plus:
  #实体扫描，多个package用逗号或者分号分隔
  base-package: com.huangxifeng.gupiao.mapper*
  type-aliases-package: com.huangxifeng.gupiao.model
  #type-handlers-package: com.gant.oms.dal.handlers
  type-enums-package: com.huangxifeng.gupiao.common.enums

  global-config:
    db-config:
      #主键类型
      id-type: id_worker_str
    banner: false
  configuration:
    #驼峰下划线转换
    map-underscore-to-camel-case: true
  #批处理执行器
  executor-type: batch

#配置
apps:
  resource:
    #资源存储根目录
    root: ${user.dir}/data
    #资源访问URL前缀
    url: /statics/

#微信小程序
wx:
  app:
    id: wx221f37c5440078be
    secret: c9c457bc734e748192bb729085759241
    grant_type: authorization_code